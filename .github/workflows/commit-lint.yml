name: ðŸš¦ Commit Format Check
on:
 pull_request:
   branches:
     - development
jobs:
 check_commits:
   name: âœ… check-commits  # <--- THIS is the name that shows in the UI
   runs-on: ubuntu-latest
   steps:
     - name: Checkout code
       uses: actions/checkout@v3
       with:
         fetch-depth: 0
     - name: Validate commit messages
       run: |
         COMMITS=$(git log origin/${{ github.base_ref }}..HEAD --pretty=format:"%H")
         VALID=true
         for commit in $COMMITS; do
           MSG=$(git log -1 --pretty=%B "$commit")
           echo "Checking commit: $commit"
           echo "$MSG" | grep -Eq "^\[Taurus-[0-9]+\]: .+" || VALID=false
           echo "$MSG" | grep -q "Issue:" || VALID=false
           echo "$MSG" | grep -q "RootCause:" || VALID=false
           echo "$MSG" | grep -q "Fix:" || VALID=false
           echo "$MSG" | grep -q "Testing:" || VALID=false
           echo "$MSG" | grep -q "Signed-off-by:" || VALID=false
         done
         if [ "$VALID" = false ]; then
           echo "âŒ Invalid commit format"
           exit 1
         else
           echo "âœ… All commit messages are valid"
         fi
